# 自顶向下，逐步求精
## 起源
1971年，沃思基于其开发程序设计语言和编程的实践经验，在4月份的 Communications of ACM上发表了论文“通过逐步求精方式开发程序’（Program Development by Stepwise Refinement），首次提出了“结构化程序设计”（structure programming）的概念。这个概念的要点是：不要求一步就编制成可执行的程序，而是分若干步进行，逐步求精。第一步编出的程序抽象度最高，第二步编出的程序抽象度有所降低…… 最后一步编出的程序即为可执行的程序。用这种方法编程，似乎复杂，实际上优点很多，可使程序易读、易写、易调试、易维护、易保证其正确性及验证其正确性。结构化程序设计方法又称为“自顶向下”或“逐步求精”法，在程序设计领域引发了一场革命，成为程序开发的一个标准方法，尤其是在后来发展起来的软件工程中获得广泛应用。有人评价说沃思的结构化程序设计概念“完全改变了人们对程序设计的思维方式”，这是一点也不夸张的。1983年1月，ACM在纪念 Communications of ACM创刊 25周年时，从其 1/4个世纪发表的大量论文中评选出有“里程碑意义的研究论文” 25篇，每年1篇，沃思的这篇论文就是其中之一。<br>
![](https://gss1.bdstatic.com/9vo3dSag_xI4khGkpoWK1HF6hhy/baike/c0%3Dbaike72%2C5%2C5%2C72%2C24/sign=964ecc5d8535e5dd8421ad8d17afcc8a/83025aafa40f4bfb2261b25b034f78f0f736180f.jpg)
<br>
图灵奖得主--尼古拉斯-沃斯<br>
## 内容
模块内容是嵌在module和endmodule两个语句之间。每个模块实现特定的功能，模块可进行层次的嵌套，因此可以将大型的数字电路设计分割成大小不一的小模块来实现特定的功能，最后通过由顶层模块调用子模块来实现整体功能，这就是Top-Down的设计思想。
![](https://img-blog.csdn.net/20171127174135373?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYXhjYXhjYXhj/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)

## 意义
将复杂的大问题分解为相对简单的小问题，找出每个问题的关键、重点所在，然后用精确的思维定性、定量地去描述问题。其核心本质是"分解"。
之所以称这样的算法为自顶向下是由于分析树隐含的编号是一个前序编号，而且其顺序是由根到叶自顶向下的分析程序有两类：回溯分析程序（backtracking parser）和预测分析程序（predictive parser）。预测分析程序试图利用一个或多个先行记号来预测出输入串中的下一个构造，而回溯分析程序则试着分析其他可能的输入，当一种可能失败时就要求输入中备份任意数量的字符。虽然回溯分析程序比预测分析程序强大许多，但它们都非常慢，一般都在指数的数量级上，所以对于实际的编译器并不合适。
递归下降程序分析和LL(1)分析一般地都要求计算先行集合，它们分别称作First集合和Follow集合。由于无需显式地构造出这些集合就可以构造出简单的自顶向下的分析程序。
自顶向下的设计方法使系统被分解为各个模块的集合之后，可以对设计的每个独立模块指派不同的工作小组，这些小组可以工作在不同的地点，甚至可以分属不同的单位，最后将不同的模块集成为最终的系统模型，并对其进行综合测试和评价。

## 应用
### 软件开发
自上而下是一种编程风格，是传统程序语言的主流，其中设计从指定复杂的部分开始，然后将它们分成连续的小部分。使用自上而下方法编写程序的技术是编写一个主程序，命名它将需要的所有主要功能。之后，编程团队会查看每个功能的要求，并重复该过程。这些划分的子程序最终将执行如此简单的动作，它们可以轻松简洁地编码。当所有各种子程序都被编码后，程序就可以进行测试了。通过定义应用程序如何在高层次上聚集在一起，较低级别的工作可以是自包含的。通过定义低级抽象如何被整合到更高级别的抽象中，

在自下而上的方法中，首先详细说明系统的各个基本元素。然后将这些元素链接在一起以形成更大的子系统，然后这些子系统又被链接，有时在许多级别中，直到形成完整的顶级系统。这种策略通常类似于“种子”模型，通过这种模式，起点很小，但最终会增加复杂性和完整性。面向对象编程（OOP）是一种使用“对象”来设计应用程序和计算机程序的范例。在使用Pro / ENGINEER，Solidworks和Autodesk Inventor等软件程序的机械工程中，用户可以将产品设计为不属于整体的部件，然后将这些部件组合在一起以形成使用Lego构建的部件。工程师将这件作品称为零件设计。

在自下而上的方法中，需要良好的直觉来决定模块提供的功能。如果要从现有系统构建系统，则此方法更适合从一些现有模块开始。

###纳米技术
自下而上的方法寻求将更小（通常是分子）的组件构建到更复杂的组件中，而自上而下的方法寻求通过使用更大的外部控制组件来引导其组装来创建纳米级器件。某些有价值的纳米结构，例如硅纳米线可以使用任一种方法制造，在目标应用的基础上选择处理方法。

自上而下的方法通常使用传统的车间或微加工方法，其中使用外部控制的工具将材料切割，铣削和成形为所需的形状和顺序。微图案技术，例如光刻和喷墨印刷属于这一类。蒸汽处理可被视为工程纳米结构的一种新的自上而下的二次方法。

相比之下，自下而上的方法使用单分子的化学特性来使单分子组分（a）自组织或自组装成一些有用的构象，或（b）依赖于位置组装。这些方法利用分子自组装和/或分子识别的概念。另见超分子化学。从广义上讲，这种自下而上的方法应该能够并行生产设备，并且比自上而下的方法便宜得多，但随着所需组件的尺寸和复杂性的增加，可能会不堪重负。

## 举例：洗衣机工作
1. power_switch(on)
2. READ 选择模式
3. GET water_volume,soak_time，left_round,right_round
4. water_in_switch(open)
5. IF 当前水位 = get_water_volume(water_volume) THEN
    water_in_switch(close)
    END IF
6. PEPEAT 浸泡
    UNTIL 计时器 = time_counter(soak_time)
7. FOR left_round <= 10 ,right_round <= 10
    motor_run(left)
    motor_run(right)
    END FOR
8. water_out_switch(on)
9. IF 当前水量=0 THEN
    water_out_switch(off)
10. FOR left_round <= 10 ,right_round <= 10
    motor_run(left)
    motor_run(right)
    END FOR
11. power_switch(off)